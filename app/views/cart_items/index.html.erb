
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Responsive Navbar</title>
    <link rel="stylesheet" href="assets/style.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

</head>

<body>
    
    <!--ROW-->
    
    </div>
    
    </div>
</div>
<div class="add-cart">
<h1>Your Cart</h1>
<div class="cart-items">
<% current_user.cart_items.each do |cart_item| %>
  <div class="cart-item">
  <%= image_tag(cart_item.product.image, class: 'cart-img') %>
    <p><%= cart_item.product.name %></p>
    <p>$<%= cart_item.product.price %></p>
  <p>Quantity: <%= cart_item.quantity %></p>
  <p>
   <%= button_to "+", add_to_cart_path(product_id: cart_item.product_id), method: :post %>
  <%= button_to "-", subtract_from_cart_path(product_id: cart_item.product_id), method: :post %>
  </p>
    <%= button_to 'Buy now!', checkout_create_path, params: {id: cart_item.product.id, image:cart_item.product.image,total: @cart}, remote: true , class: 'button' %>
    
   
    <%= link_to cart_item_path(cart_item), class: 'btn-rem', data: {
                turbo_method: :delete,
                turbo_confirm: "Are you sure?"
              } do %>
  <i class="fa-solid fa-trash"></i> 
<% end %>
              
  </div>
<% end %>
</div>
<p>Total: <%= @cart%></p>
 <%= button_to 'Checkout!', checkout_path, params: {cart_items: current_user.cart_items }, remote: true %>
</div>
    <section id="footer">
        <div class="container">
            <div class="row text-center text-xs-center text-sm-left text-md-left">
                <div class="col-xs-12 col-sm-4 col-md-4">
                    <h5>Quick links</h5>
                    <ul class="list-unstyled quick-links">
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Home</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>About</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>FAQ</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Get Started</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Videos</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4">
                    <h5>Quick links</h5>
                    <ul class="list-unstyled quick-links">
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Home</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>About</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>FAQ</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Get Started</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Videos</a></li>
                    </ul>
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4">
                    <h5>Quick links</h5>
                    <ul class="list-unstyled quick-links">
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Home</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>About</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>FAQ</a></li>
                        <li><a href="javascript:void();"><i class="fa fa-angle-double-right"></i>Get Started</a></li>
                        <li><a href="https://wwwe.sunlimetech.com" title="Design and developed by"><i
                                    class="fa fa-angle-double-right"></i>Imprint</a></li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-5">
                    <ul class="list-unstyled list-inline social text-center">
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-facebook"></i></a>
                        </li>
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-twitter"></i></a></li>
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-instagram"></i></a>
                        </li>
                        <li class="list-inline-item"><a href="javascript:void();"><i class="fa fa-google-plus"></i></a>
                        </li>
                        <li class="list-inline-item"><a href="javascript:void();" target="_blank"><i
                                    class="fa fa-envelope"></i></a></li>
                    </ul>
                </div>
                </hr>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-2 text-center text-white">
                    <p><u><a href="https://www.nationaltransaction.com/">National Transaction Corporation</a></u> is a
                        Registered MSP/ISO of Elavon, Inc. Georgia india</p>
                    <p class="h6">&copy All right Reversed.<a class="text-green ml-2" href="https://www.sunlimetech.com"
                            target="_blank">BESTTECH</a></p>
                </div>
                </hr>
            </div>
        </div>
    </section>
    <!-- ./Footer -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
   

    <script>

        document.addEventListener("DOMContentLoaded", function () {
            const buyButtons = document.querySelectorAll(".buy-button");
            const addToCartButtons = document.querySelectorAll(".add-to-cart-button");

            buyButtons.forEach(function (button) {
                button.addEventListener("click", function () {
                    const productName = this.parentElement.querySelector("h2").textContent;
                    addToCart(productName);
                });
            });

            addToCartButtons.forEach(function (button) {
                button.addEventListener("click", function () {
                    const productName = this.parentElement.querySelector("h2").textContent;
                    addToCart(productName);
                });
            });
            function addToCart(productName) {
                const cart = JSON.parse(localStorage.getItem("cart")) || [];
                cart.push(productName);
                localStorage.setItem("cart", JSON.stringify(cart));
                alert("Product added to cart!");
            }
        });
        (function () {
            (document).scroll(function () {
                var nav = (".navbar-fixed-top");
                nav.toggleClass('scrolled', (this).scrollTop() > nav.height());
            });
        });
    </script>
</body>

</html>